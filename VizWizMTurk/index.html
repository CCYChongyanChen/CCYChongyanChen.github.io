
<!DOCTYPE html>
<html>
    <head>
    
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/css/style.css">
    <!-- jQuery library -->
    <script src="static/js/jquery.min.js"></script>
    <script type="text/javascript" src="static/QA_annotations/test.json"></script>
    <!-- Latest compiled JavaScript -->
    <script src="static/js/bootstrap.min.js"></script>
    <script type='text/javascript' src='https://s3.amazonaws.com/mturk-public/externalHIT_v1.js'></script>
    </head>
    <body>
        
        
        <!-- <p id="demo">Click the button to change the text in this paragraph.</p> -->
        <div class="container">

            <a href="#instructions" class="btn btn-light" data-toggle="collapse">Instructions</a>
            <div id="instructions" class="collapse in">
                    <div class="well">
                            <br><strong>Motivation:</strong> The image and question you will see are all from visually impaired people. Our aim is to build a smart system to automatically answer their visual question.
                            <br><br>
                            <strong>We ask you to: </strong>
                                carefully review the question and image as well as the existing 10 answers, read the taxonomy of perception and other 3 external knowledge categories,  and then: 
                                <br>(1) Ground the item in the image according to the existing answers
                                <br>(2) Choose the correct object category accordingly to the question and image.
                                <br>(3) Identify if the question is a perception question (doesn't need any external knowledge) or identify which external knowledge(s) are needed in the image.
                                <br>(4) If the image requires partial knowledge or expertise knowledge and you think you can answer the visual question better than the existing 10 answers, then answer it, we will give your bonus. You can search for Internet for the answer
                                <br>
                                <br>PLEASE NOTE: It is possible that some images could be meaningless, inappropriate, or offensive. We cannot control what pictures are taken. Kindly use your best judgement for this task.
                                <br>IMPORTANT: Please do not refresh the webpage once you have started working, as you will lose all your progress, and have to start at the beginning.                 
                                
                    </div>
            </div>
        </div>
        <!-- panel-heading -->
        <form name='mturk_form' method='post' id='mturk_form' action='https://www.mturk.com/mturk/externalSubmit'><input type='hidden' value='' name='assignmentId' id='assignmentId'/>
            <div class="container">
            <br>
            
            <h3 class="text-secondary"> Task 1: The image shown below is taken from visually impaired people and the question they ask is </h3>
            <h3 class="text-secondary" id="question" style="color:mediumturquoise"></h3>
            <h3>Here are some existing answers to this question</h3>
            <div id="Answers"></div>
            <div id="selectareas"></div>
            
            <div class="container">
                <div id= "ReportProblemDIV" style="display: none" >
                    
                <form method="POST" action="https://formspree.io/chongyanchen_hci@utexas.edu">
                    <textarea name="Feedback" rows="5" cols="100" placeholder="You don't have to fill this comment box unless you would like to leave your comment or feedback."></textarea>
                    <button type="submit">Send</button>
                    <br><br>
                </form>
                </div>
                
            </div>

            <div></div>
            <h3>Your task is tracing polygons around the borders of the object(s) according to the answer(s) by clicking on the image. Since there maybe more than one answer, you can just use the best one you think.</h3>
            
            <input type="hidden" id="task1forsubmit" name="task1forsubmit">

            <p id="answerID" name="answerID">0</p>

            <p id="task1forsubmit2" name="task1forsubmit2"></p>
    
            <div id="task1forsubmit3">
            
            </div>

            <div  id="canvaswrapper" style="position:relative;width:500px; height:500px;">
                <canvas id="zoom" width="200" height="200" 
                style="position: absolute; left: 0; top: 0; z-index: 1;"></canvas>
                <canvas id="canvas" width="400" height="500" 
                style="position: absolute; left: 0; top: 0; z-index: 0;"></canvas>
                <canvas id="myCanvas" width="400" height="500" 
                style="position: absolute; left: 0; top: 0; z-index: 2; "></canvas>
                <!-- <canvas id="canvas" width="1000" height="1000" style="border:1px solid #c3c3c3;"></canvas> -->
            </div>
            <button type="button" class="btn btn-secondary" onclick="DeleteAllThenInit()">Clear Canvas</button>
            <button type="button" class="btn btn-secondary" onclick="UnDo()" data-toggle="tooltip"  data-placement="top" title="ctrl+z">UnDo</button>
            <button type="button" class="btn btn-secondary" onclick="Magnify()">Magnifying glass</button>
            <button type="button" class="btn btn-secondary" onclick="finishOne()" data-toggle="tooltip"  data-placement="top" title="Double Click/ENTER key">Finish labeling</button> 
        
            <br>
            <br>
            <br>
            <br>
            <div class="card" id="task2">                    
                    <h3> Task 2: What is the question asking about? Choose the correct object category accordingly. </h3>


                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1">
                    cooking and food
                    </label>
                </div>
                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
                    Retail goods
                    </label>
                </div>
                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios3" value="option3">
                    people
                    </label>
                </div>
                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios4" value="option4">
                    plants and animals
                    </label>
                </div>
                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios5" value="option5">
                    material and clothing
                    </label>
                </div>
                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios6" value="option6">
                    book, poster, and covers
                    </label>
                </div>
                <div class="radio">
                    <label>
                    <input type="radio" name="optionsRadios" id="optionsRadios7" value="option7">
                    Others
                    </label>
                </div>
            </div>
 
 
            <div id="task3">


                <div>  
                    <h3 class="text-secondary">Task 3: What external Knowledge are required in the image?</h3>

                    <a href="#Taxonomy" class="btn btn-light" data-toggle="collapse">Click to see what is external Knowledge</a>
                    <div id="Taxonomy" class="collapse">
                            <div class="well">
                                    Since some images captured from blind people donâ€™t include sufficient information for a computer to answer, we need you to help us to identify if the visual question requires external knowledge to be answered and what kinds of external knowledge are needed.
                                    <br>(1) Label as <strong>Perception Question</strong> if you think the question can be answered directly based on the information provided by the image without any kind of external knowledge.
                                    <br>(2) Label as <strong>common sense</strong> if you think this question can be answered by most of the normal people. Click here to see some examples. 
                                    <br>(3) Label a question as <strong>Expertise Knowledge</strong> if you can answer the question but think this question is too hard or is not common sense, OR if you cannot answer the question but thinking some expert of can answer it. Click here to see some examples.
                                    <br>(4) Label a question as needing <strong>partial knowledge</strong> if you think the image doesn't include the whole object and you need to interpret it or need external information to complement it. Click here to see some examples.                            
                            </div>
                    </div>
                </div>
                <div>
                    <div class="checkbox"><label for="Perception"><input type="checkbox" id="Perception" value="perception" onclick="DisableOther_P()">This image doesn't need any external knowledge</label></div>
                    <div class="checkbox"><label for="EK1"><input type="checkbox" id="EK1" value="EK1">This image needs common sense</label></div>
                    <div class="checkbox"><label for="EK2"><input type="checkbox" id="EK2" value="EK2" onclick="PartialExpertiseChecked()">This image needs expertise knowledge</label></div>
                    <div class="checkbox"><label for="EK3"><input type="checkbox" id="EK3" value="EK3" onclick="PartialExpertiseChecked()">This image needs partial knowledge</label></div>
                    <div class="checkbox"><label for="NotSure"><input type="checkbox" id="NotSure" name="NotSure" value="Not_Sure" onclick="DisableOther_NS()">I am not sure</label></div>
                    
                    <!-- <input type="checkbox" id="Perception" name="Perception" value="perception"> -->
                    <!-- <label for="Perception"> This image doesn't need any external knowledge</label><br>
                    <input type="checkbox" id="EK1" value="Common_Sense">
                    <label for="EK1"> This image needs common sense</label><br>
                    <input type="checkbox" id="EK2" name="EK2" value="Expertise_Knowledge" onclick="PartialExpertiseChecked()">
                    <label for="EK2"> This image needs expertise knowledge</label><br>
                    <input type="checkbox" id="EK3" name="EK3" value="Partial_Knowledge" onclick="PartialExpertiseChecked()">
                    <label for="EK3"> This image needs partial knowledge</label><br>
                    <input type="checkbox" id="NotSure" name="NotSure" value="Not_Sure"> -->
                    <!-- <label for="NotSure"> I am not sure</label> -->
                </div>
            
            </div>
            
            
            <div id="task4" style="display: none">
                <h3 class="text-secondary">
                    Task 4: The existing answers are answered without Internet's help. Since expertise knowledge/partial knowledge is needed for answering this question, we assume that the existing answers are not good enough.
                    <br> Could you try answer the question with the Internet help? You don't have to do this task if you agree with the existing answers. 
                </h3>

                <div>
                    <input type='text' name='reported_answer' placeholder='Type in your answer here.'>
                </div>
            </div>


            <p><input type='submit' id='submitButton' value='Submit' /></p>

            <script src="static/js/QA_annotations.js"></script>
            <script src="static/js/Image_related.js"></script>
        </div>
        </form>
        <button type="button" class="link" id="reportProblem" onclick="ReportProblem()" >Report problems</button>
        
        <div class="container">
            <div id= "ReportProblemDIV" style="display: none" >
                
            <form method="POST" action="https://formspree.io/chongyanchen_hci@utexas.edu">
                <textarea name="Feedback" rows="5" cols="100" placeholder="You don't have to fill this comment box unless you would like to leave your comment or feedback."></textarea>
                <button type="submit">Send</button>
                <br><br>
            </form>
            </div>
            
        </div>
        <script src="static/js/Whole_HTML.js"></script>
        
        <script language='Javascript'>turkSetAssignmentID();</script>
    </body>
</html>
