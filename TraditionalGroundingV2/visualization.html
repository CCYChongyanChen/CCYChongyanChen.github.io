
<!DOCTYPE html>
<html>
    <head>
    
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
    <title>VizWiz-Grounding-Visualization</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/css/style.css">
    
    <!-- jQuery library -->
    <script src="static/js/jquery.min.js"></script>
    <!-- <script src="static/js/jquery.js"></script>  -->
    <script type="text/javascript" src="static/QA_annotations/test.json"></script>
    <!-- Latest compiled JavaScript -->
    <script src="static/js/bootstrap.min.js"></script>
    <script type='text/javascript' src='https://s3.amazonaws.com/mturk-public/externalHIT_v1.js'></script>
    </head>
    <body>
        <!-- <p id="demo">Click the button to change the text in this paragraph.</p> -->


        <div class="container">

            <h1>Visualization</h1>
        
        
        
        
        </div>
        
        <!-- <div class="myDIV"><button class="glyphicon glyphicon-question-sign" aria-hidden="true"></button></div>
        <div class="hide">I am shown when someone hovers over the div above.</div> -->


        <!-- panel-heading -->
        <form name='mturk_form' method='post' id='mturk_form' action='https://www.mturk.com/mturk/externalSubmit'><input type='hidden' value='' name='assignmentId' id='assignmentId'/>
        
            <div class="container">
            <ul class="nav nav-tabs controlImg">
                    <li class="active"><a href="#tab1" id="TAB1" data-toggle="tab" onClick="find_activated_tab(this.id)">Image 1</a></li>
                    <li ><a href="#tab2" data-toggle="tab" id="TAB2" onClick="find_activated_tab(this.id)">Image 2</a></li>
                    <li ><a href="#tab3" data-toggle="tab" id="TAB3" onClick="find_activated_tab(this.id)">Image 3</a></li>
                    <li ><a href="#tab4" data-toggle="tab" id="TAB4" onClick="find_activated_tab(this.id)">Image 4</a></li>
                    <li ><a href="#tab5" data-toggle="tab" id="TAB5" onClick="find_activated_tab(this.id)">Image 5</a></li>
            </ul>


                
                    <!-------- main content ---------->
                    <div class="row">
                    
                        <!------- image column ------->
                        <div class="col-sm-6">

                            <!---------- Image ---------->
                            <div class="image_wrap" style="overflow: hidden">
                                
                                    <div class="viewer" >

                                    <h3 class="text-secondary" id="question"></h3>
                                    <h3 class="text-secondary" id="answer"></h3>

                                    <input type="hidden" id="task1forsubmit" name="task1forsubmit">

                                    <div id="canvaswrapper" style="position:relative;width:500px; height:500px;">
                                        <img class="coveredImage" id="image" src="" width="400" height="500" style="position: absolute; left: 0; top: 0; z-index: 0; user-select: none;">
                                        <canvas id="myCanvas" width="400" height="500" 
                                        style="position: absolute; left: 0; top: 0; z-index: 1; "></canvas>
                                    </div>
                                    <div class="btnsCenterContainer">
                                    </div>
                                </div>


                            </div>
                        </div>

                        <!----------- all tasks column ----------->
                        <div class="col-sm-6">
                                    <!----------  Step: Visual Grounding ------------>
                                    <div class="col-lg-12">
                                        <h4 style="
                                            text-align: left;
                                            font-weight: bold;
                                            padding: 5px;
                                            margin: 0px 0px 15px;
                                        ">
                                        Please read the following question and answer about the image to the left and finish the 3 steps below 
                                        </h4>
                                    <!-- </div> -->

                                    </div><!----------  Step: Visual Grounding ------------>

                                    <!----------  Step: Text Detection ------------>
                                    <div class="row">
                                        <div class="col-lg-12 text_detect border-around" style="margin-top: 30px;">

                                            <table class="ansChoices table table-condensed"
                                                style="">
                                                <thead>
                                                <tr>
                                                    <th colspan="4" class="text-center" style="">
                                                        <h4 style="font-weight: bold; margin: 2px auto">
                                                            Step 1: Is there more than one question asked?
                                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip"  data-placement="top" title="
                                                            For example, question like 'what brand is this? what type of skin it is for?''"></a>
                                                        </h4>
                                                        

                                                    </th>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                <tr>
                                                    <!-- Col 1 -->
                                                    <td style="width: 50%; padding-left: 0px">

                                                        <div class="radio ans_choice pull-right">
                                                            <label>
                                                                <input name="MULTI_QUESTION_DETECT" type="radio" value="Y">
                                                                <strong>YES:</strong>
                                                                More than one questions asked.
                                                            </label>
                                                        </div>
                                                    </td>

                                                    <!-- Col 2 -->
                                                    <td style="width: 50%; padding-right: 0px">

                                                        <div class="radio ans_choice pull-left">
                                                            <label>
                                                                <input name="MULTI_QUESTION_DETECT" type="radio" value="N" >
                                                                <strong>NO:</strong>
                                                                Just one question asked.
                                                            </label>
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>

                                        </div>

                                    </div><!----------  Step: Text Detection ------------>


                                    <!---------- Step: Multi-focus ---------->
                                    <div class="row">

                                        <div class="col-sm-12 quality_issues border-around" style="margin-top: 30px;">

                                            <table class="ansChoices table table-condensed" style="">
                                                <thead>
                                                <tr>
                                                    <th colspan="4" class="text-center" style="">
                                                        <h4 style="font-weight: bold; margin: 2px auto">
                                                            Step 2: Does the answer have multi-focus?
                                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip"  data-placement="top" title="
                                                            is the answer referring to more than one object or region?"></a>
                                                        </h4>
                                                        

                                                    </th>
                                                </tr>
                                                </thead>

            


                                                <tbody>
                                                    <tr>
                                                        <!-- Col 1 -->
                                                        <td style="width: 50%; padding-left: 0px">

                                                            <div class="radio ans_choice pull-right">
                                                                <label>
                                                                    <input name="MULTI_FOCUS_DETECT" type="radio" value="Y" >
                                                                    <strong>YES:</strong>
                                                                    The answer focus on multi-objects.
                                                                </label>
                                                            </div>
                                                        </td>

                                                        <!-- Col 2 -->
                                                        <td style="width: 50%; padding-right: 0px">

                                                            <div class="radio ans_choice pull-left">
                                                                <label>
                                                                    <input name="MULTI_FOCUS_DETECT" type="radio" value="N" >
                                                                    <strong>NO:</strong>
                                                                    It just refers to one object.
                                                                </label>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>



                                            </table>


                                        </div>
                                    </div> <!---------- Step: Multi-focus ---------->



                                    <!---------- Step: Draw polygon ---------->
                                    <div class="row">

                                        <div class="col-sm-12 step3 border-around" style="margin-top: 30px;">

                                            <table class="ansChoices table table-condensed" >
                                                <thead>
                                                <tr>
                                                    <th colspan="4" class="text-center" style="">
                                                        <h4 style="font-weight: bold; margin: 2px auto">
                                                            Step 3: Draw one closed polygon to ground region that the answer is referring to by clicking on the image.
                                                        
                                                            <a class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="tooltip"  data-placement="top" title="
                                                        
                                                        
                                                            Step 3 will only be activated if you select two 'No' for Step 1 and 2. When drawing, you can press the keborad shortcut 'Enter' or click the first point again to finish one drawing. You can use keyboard shortcut 'Ctrl+Z' or click the Undo button to Undo."></a>
                                                            
    
                                                        
                                                        
                                                        </h4>
                                 
                                                    </th>
                                                </tr>
                                                </thead>
                                            </table>

                                            <p style="text-align: center; font-weight: bold;
                                            margin: 10px 0px; font-size: 18px;">
                                        OR
                                            </p>




                                                                            <div class="row">
                                                                                <div class="col-lg-12">

                                                                                    <div class="input-group ">
                                                                                        <span class="input-group-addon">
                                                                                            <div class="checkbox" style="margin-top: 0px; margin-bottom: 0px;">
                                                                                                <label style="margin-top: 0px; margin-bottom: 0px;">
                                                                                                    <input name="NoDraw" id="nodraw" type="checkbox" value="CANNOT_DRAW" class="Step3" >
                                                                                                    Cannot draw:
                                                                                                </label>
                                                                                            </div>
                                                                                        </span>
                                                                                        <input name="NoDrawReason" type="text"
                                                                                            placeholder="Input your reason for not drawing for this image"
                                                                                            title="Input your reason for not drawing for this image"
                                                                                            class="form-control Step3">
                                                                                    </div>



                                                                                </div>
                                                                            </div>

                                        </div>
                                    </div> <!---------- Step: Draw polygon ---------->
                        </div>
                        <!--- end all tasks column --->


                        <p id ="xycoorcommonAnswer"></p>


                        


                    </div>
            <!-- end section 1-->


                <div class="tab-content">
                    <div class="tab-pane btndiv active" id="tab1">
                        <button type="button" class="btn btnNext" id = "btnNext1">Next</button>
                    </div>
                    <div class="tab-pane btndiv" id="tab2">
                        <button type="button" class="btn btnNext">Next</button>
                        <button type="button" class="btn btnPrevious" >Previous</button>
                    </div>
                    <div class="tab-pane btndiv" id="tab3">
                        <button type="button" class="btn btnNext" >Next</button>
                        <button type="button" class="btn btnPrevious" >Previous</button>
                    </div>
                    <div class="tab-pane btndiv" id="tab4">
                        <button type="button" class="btn btnNext" >Next</button>
                        <button type="button" class="btn btnPrevious" >Previous</button>
                    </div>
                    <div class="tab-pane btndiv" id="tab5">

                        <button type="button" class="btn waves-effect waves-light btnsubmit" data-toggle="modal" data-target="#centralModalLg" id= "submitbtn">Next Group</button>
                        
                        
                        <button type="button" class="btn btnPrevious" >Previous</button>
                    </div>
                </div>

            </div>
            
       <!-- Central Modal Large -->
       <div class="modal fade" id="centralModalLg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <!--Content-->
          <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
              <h4 class="modal-title w-100" id="myModalLabel">Submit the HIT?</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <!--Body-->
            <div class="modal-body">
              
                <label style="margin-bottom: 5px">
                    Do you have any suggestions, feedback, or general comments for us?
                    <span class="text-muted">(optional)</span>
                </label>
        
                <textarea name="WORKER_COMMENTS" 
                style="font-size:18px" class="form-control  input-lg" rows="2"></textarea>
                
            </div>

            
             <input type='hidden' id= 'hiddenXY' name='hiddenXY' value='' />
             <input type='hidden' id= 'hiddenAnswer' name='hiddenAnswer' value='' />

            <!--Footer-->
            <div class="modal-footer">
                <button type="submit" class="btn" value="Submit" >Yes</button>
              <button type="button" class="btn" data-dismiss="modal">Cancel</button>
            </div>
          </div>
          <!--/.Content-->
        </div>
      </div>
      <!-- Central Modal Large -->

        </form>
    
        <script src="static/js/V_initialize.js"></script>
        <script src="static/js/V_Image_related.js"></script>
        <script src="static/js/V_Whole_HTML.js"></script>


        
        <script language='Javascript'>turkSetAssignmentID();</script>
    </body>
</html>
